import { PlayerClass, Equipment, Enemy } from "@/types/rpg";

export const playerClasses: PlayerClass[] = [
  {
    id: "warrior",
    name: "Guerrier",
    description: "Combattant puissant avec une forte d√©fense",
    baseStats: {
      attack: 25,
      attackSpeed: 45.2,
      defense: 30,
      dodge: 15,
      luck: 20,
      speed: 25,
      health: 120,
      mana: 30
    },
    icon: "‚öîÔ∏è",
    color: "from-red-600 to-red-800"
  },
  {
    id: "mage",
    name: "Magicien",
    description: "Ma√Ætre des arts magiques avec haute intelligence",
    baseStats: {
      attack: 35,
      attackSpeed: 65.8,
      defense: 12,
      dodge: 25,
      luck: 40,
      speed: 30,
      health: 80,
      mana: 150
    },
    icon: "üßô‚Äç‚ôÇÔ∏è",
    color: "from-blue-600 to-purple-800"
  },
  {
    id: "archer",
    name: "Archer",
    description: "Expert du tir √† distance avec grande pr√©cision",
    baseStats: {
      attack: 30,
      attackSpeed: 85.4,
      defense: 18,
      dodge: 45,
      luck: 35,
      speed: 50,
      health: 90,
      mana: 60
    },
    icon: "üèπ",
    color: "from-green-600 to-green-800"
  },
  {
    id: "monk",
    name: "Moine",
    description: "Combattant √©quilibr√© ma√Ætrisant corps et esprit",
    baseStats: {
      attack: 22,
      attackSpeed: 75.6,
      defense: 25,
      dodge: 55,
      luck: 45,
      speed: 65,
      health: 100,
      mana: 100
    },
    icon: "üôè",
    color: "from-orange-600 to-yellow-800"
  },
  {
    id: "berserker",
    name: "Berserker",
    description: "Guerrier sauvage sacrifiant d√©fense pour attaque",
    baseStats: {
      attack: 45,
      attackSpeed: 95.2,
      defense: 8,
      dodge: 20,
      luck: 25,
      speed: 40,
      health: 110,
      mana: 20
    },
    icon: "ü™ì",
    color: "from-red-800 to-orange-900"
  },
  {
    id: "necromancer",
    name: "N√©cromancien",
    description: "Ma√Ætre des arts sombres et de la mort",
    baseStats: {
      attack: 40,
      attackSpeed: 55.3,
      defense: 15,
      dodge: 30,
      luck: 80,
      speed: 35,
      health: 70,
      mana: 180
    },
    icon: "üíÄ",
    color: "from-purple-900 to-black"
  },
  {
    id: "paladin",
    name: "Paladin",
    description: "Guerrier saint avec d√©fense et magie",
    baseStats: {
      attack: 28,
      attackSpeed: 50.7,
      defense: 35,
      dodge: 20,
      luck: 30,
      speed: 28,
      health: 130,
      mana: 90
    },
    icon: "üõ°Ô∏è",
    color: "from-yellow-500 to-white"
  },
  {
    id: "assassin",
    name: "Assassin",
    description: "Tueur silencieux privil√©giant vitesse et esquive",
    baseStats: {
      attack: 38,
      attackSpeed: 120.8,
      defense: 10,
      dodge: 70,
      luck: 55,
      speed: 85,
      health: 75,
      mana: 40
    },
    icon: "üó°Ô∏è",
    color: "from-gray-800 to-black"
  }
];

export const baseEquipment: Equipment[] = [
  // Armes Niveau 1-5
  {
    id: "iron_sword",
    name: "√âp√©e de Fer",
    type: "weapon",
    rarity: "common",
    level: 1,
    description: "Une √©p√©e basique en fer",
    statsBonus: { attack: 5, attackSpeed: 2.1 }
  },
  {
    id: "wooden_club",
    name: "Massue en Bois",
    type: "weapon", 
    rarity: "common",
    level: 1,
    description: "Arme primitive mais efficace",
    statsBonus: { attack: 8, speed: -2 }
  },
  {
    id: "bronze_dagger",
    name: "Dague de Bronze",
    type: "weapon",
    rarity: "common", 
    level: 2,
    description: "Lame rapide et pr√©cise",
    statsBonus: { attack: 6, attackSpeed: 8.5, dodge: 3 }
  },
  {
    id: "steel_bow",
    name: "Arc d'Acier",
    type: "weapon",
    rarity: "uncommon",
    level: 3,
    description: "Arc pr√©cis en acier tremp√©",
    statsBonus: { attack: 12, attackSpeed: 5.5, dodge: 5 }
  },
  {
    id: "silver_blade",
    name: "Lame d'Argent",
    type: "weapon",
    rarity: "uncommon",
    level: 4,
    description: "√âp√©e b√©nie contre les cr√©atures des t√©n√®bres",
    statsBonus: { attack: 15, attackSpeed: 3.2, luck: 8 }
  },
  {
    id: "enchanted_staff",
    name: "B√¢ton Enchant√©",
    type: "weapon",
    rarity: "rare",
    level: 5,
    description: "B√¢ton impr√©gn√© de magie ancienne",
    statsBonus: { attack: 18, mana: 35, luck: 12 }
  },

  // Armes Niveau 6-10
  {
    id: "crystal_sword",
    name: "√âp√©e de Cristal",
    type: "weapon",
    rarity: "rare",
    level: 6,
    description: "Lame taill√©e dans un cristal magique",
    statsBonus: { attack: 22, attackSpeed: 4.8, mana: 15 }
  },
  {
    id: "demon_axe",
    name: "Hache D√©moniaque",
    type: "weapon",
    rarity: "epic",
    level: 8,
    description: "Hache forg√©e dans les flammes infernales",
    statsBonus: { attack: 35, attackSpeed: -2.1, defense: 8 }
  },
  {
    id: "shadow_blade",
    name: "Lame des Ombres",
    type: "weapon",
    rarity: "epic",
    level: 10,
    description: "Lame maudite des t√©n√®bres",
    statsBonus: { attack: 28, attackSpeed: 15.2, dodge: 15, speed: 12 }
  },

  // Armes Niveau 11-20
  {
    id: "phoenix_staff",
    name: "B√¢ton du Ph√©nix",
    type: "weapon",
    rarity: "epic",
    level: 12,
    description: "B√¢ton impr√©gn√© du feu √©ternel",
    statsBonus: { attack: 32, mana: 80, luck: 18, attackSpeed: 6.5 }
  },
  {
    id: "void_bow",
    name: "Arc du Vide",
    type: "weapon",
    rarity: "epic",
    level: 15,
    description: "Arc tirant des fl√®ches dimensionnelles",
    statsBonus: { attack: 40, attackSpeed: 12.8, dodge: 20, speed: 25 }
  },
  {
    id: "dragon_slayer",
    name: "Tueur de Dragon",
    type: "weapon",
    rarity: "legendary",
    level: 20,
    description: "√âp√©e l√©gendaire forg√©e dans le sang de dragon",
    statsBonus: { attack: 55, attackSpeed: 8.7, defense: 15, luck: 25, health: 50 }
  },

  // Armures Niveau 1-5
  {
    id: "cloth_robe",
    name: "Robe de Tissu",
    type: "armor",
    rarity: "common",
    level: 1,
    description: "V√™tement simple mais confortable",
    statsBonus: { defense: 3, mana: 10 }
  },
  {
    id: "leather_armor",
    name: "Armure de Cuir",
    type: "armor",
    rarity: "common",
    level: 1,
    description: "Protection basique en cuir",
    statsBonus: { defense: 8, dodge: 2, health: 15 }
  },
  {
    id: "studded_leather",
    name: "Cuir Clout√©",
    type: "armor",
    rarity: "uncommon",
    level: 3,
    description: "Armure renforc√©e de clous m√©talliques",
    statsBonus: { defense: 12, dodge: 5, health: 25 }
  },
  {
    id: "chain_mail",
    name: "Cotte de Mailles",
    type: "armor",
    rarity: "uncommon",
    level: 4,
    description: "Armure flexible en mailles",
    statsBonus: { defense: 18, health: 40, speed: -3 }
  },
  {
    id: "scale_armor",
    name: "Armure d'√âcailles",
    type: "armor",
    rarity: "rare",
    level: 5,
    description: "Protection faite d'√©cailles de dragon",
    statsBonus: { defense: 22, health: 50, luck: 8 }
  },

  // Armures Niveau 6-15
  {
    id: "steel_plate",
    name: "Armure de Plates d'Acier",
    type: "armor",
    rarity: "rare",
    level: 8,
    description: "Lourde armure en plaques d'acier",
    statsBonus: { defense: 35, health: 80, speed: -8, dodge: -5 }
  },
  {
    id: "mage_robes",
    name: "Robes de Mage Sup√©rieur",
    type: "armor",
    rarity: "epic",
    level: 12,
    description: "Robes enchant√©es des arcanes",
    statsBonus: { defense: 25, mana: 120, luck: 20, speed: 8 }
  },
  {
    id: "celestial_armor",
    name: "Armure C√©leste",
    type: "armor",
    rarity: "legendary",
    level: 15,
    description: "Armure b√©nie par les dieux",
    statsBonus: { defense: 50, health: 150, mana: 80, luck: 30, dodge: 10 }
  },

  // Bijoux Niveau 1-10
  {
    id: "copper_ring",
    name: "Anneau de Cuivre",
    type: "ring",
    rarity: "common",
    level: 1,
    description: "Simple anneau de cuivre",
    statsBonus: { attack: 2, health: 10 }
  },
  {
    id: "silver_ring",
    name: "Anneau d'Argent",
    type: "ring",
    rarity: "uncommon",
    level: 3,
    description: "Anneau poli brillant d'argent",
    statsBonus: { attack: 5, mana: 20, luck: 5 }
  },
  {
    id: "power_ring",
    name: "Anneau de Puissance",
    type: "ring",
    rarity: "rare",
    level: 6,
    description: "Anneau augmentant la force",
    statsBonus: { attack: 12, attackSpeed: 5.2, health: 30 }
  },
  {
    id: "master_ring",
    name: "Anneau de Ma√Ætre",
    type: "ring",
    rarity: "epic",
    level: 10,
    description: "Anneau des grands ma√Ætres",
    statsBonus: { attack: 18, defense: 12, luck: 25, mana: 50 }
  },

  // Amulettes Niveau 1-15
  {
    id: "bone_amulet",
    name: "Amulette d'Os",
    type: "amulet",
    rarity: "common",
    level: 1,
    description: "Amulette primitive sculpt√©e dans l'os",
    statsBonus: { luck: 8, mana: 15 }
  },
  {
    id: "crystal_pendant",
    name: "Pendentif de Cristal",
    type: "amulet",
    rarity: "uncommon",
    level: 4,
    description: "Cristal amplifiant les √©nergies magiques",
    statsBonus: { mana: 40, luck: 12, speed: 5 }
  },
  {
    id: "luck_amulet",
    name: "Amulette de Chance Supreme",
    type: "amulet",
    rarity: "epic",
    level: 8,
    description: "Amulette portant une chance extraordinaire",
    statsBonus: { luck: 35, dodge: 15, speed: 12, attackSpeed: 8.5 }
  },
  {
    id: "soul_pendant",
    name: "Pendentif des √Çmes",
    type: "amulet",
    rarity: "legendary",
    level: 15,
    description: "Amulette contenant le pouvoir des √¢mes anciennes",
    statsBonus: { mana: 200, luck: 50, health: 100, defense: 20, attack: 25 }
  },

  // Nouveaux √©quipements Premium
  
  // Armes Silver (Niveau 25-30)
  {
    id: "silver_excalibur",
    name: "Excalibur d'Argent",
    type: "weapon",
    rarity: "silver",
    level: 25,
    description: "√âp√©e l√©gendaire forg√©e dans l'argent pur des √©toiles",
    priceType: "gold",
    customPrice: 15000,
    statsBonus: { attack: 75, attackSpeed: 12.5, defense: 20, luck: 35, health: 80 }
  },
  {
    id: "silver_bow_cosmos",
    name: "Arc Cosmique d'Argent",
    type: "weapon",
    rarity: "silver",
    level: 28,
    description: "Arc tirant des fl√®ches stellaires argent√©es",
    priceType: "gold",
    customPrice: 18000,
    statsBonus: { attack: 85, attackSpeed: 25.8, dodge: 40, speed: 50, luck: 30 }
  },

  // Armes Gold (Niveau 35-40)
  {
    id: "golden_destroyer",
    name: "Destructeur Dor√©",
    type: "weapon",
    rarity: "gold",
    level: 35,
    description: "Masse de guerre dor√©e capable de briser les r√©alit√©s",
    priceType: "diamonds",
    customPrice: 500,
    statsBonus: { attack: 120, attackSpeed: 8.2, defense: 35, health: 150, luck: 45 }
  },
  {
    id: "golden_staff_midas",
    name: "B√¢ton de Midas",
    type: "weapon",
    rarity: "gold",
    level: 38,
    description: "B√¢ton transformant tout en or magique",
    priceType: "diamonds",
    customPrice: 750,
    statsBonus: { attack: 95, mana: 300, luck: 80, speed: 25, attackSpeed: 15.5 }
  },

  // Armes Platinum (Niveau 45-50)
  {
    id: "platinum_divine_blade",
    name: "Lame Divine de Platine",
    type: "weapon",
    rarity: "platinum",
    level: 45,
    description: "√âp√©e divine forg√©e dans le platine c√©leste",
    priceType: "diamonds", 
    customPrice: 1200,
    statsBonus: { attack: 180, attackSpeed: 18.7, defense: 50, health: 200, mana: 150, luck: 60 }
  },

  // Armes Sparkling (Niveau 55)
  {
    id: "sparkling_void_reaper",
    name: "Faucheuse du Vide √âtincelante",
    type: "weapon",
    rarity: "sparkling",
    level: 55,
    description: "Arme √©tincelante d√©chirant l'espace-temps",
    priceType: "diamonds",
    customPrice: 2000,
    statsBonus: { attack: 250, attackSpeed: 35.2, dodge: 60, speed: 80, luck: 100, mana: 200 }
  },

  // Armes Elite (Niveau 60)
  {
    id: "elite_galaxy_crusher",
    name: "Briseur de Galaxie √âlite",
    type: "weapon",
    rarity: "elite",
    level: 60,
    description: "Arme d'√©lite capable de d√©truire des galaxies enti√®res",
    priceType: "diamonds",
    customPrice: 3500,
    statsBonus: { attack: 320, attackSpeed: 25.8, defense: 80, health: 300, mana: 250, luck: 120 }
  },

  // Armes Supreme Sparkling (Niveau 70)
  {
    id: "supreme_infinity_edge",
    name: "Lame de l'Infini Supr√™me",
    type: "weapon",
    rarity: "supreme_sparkling",
    level: 70,
    description: "L'arme ultime transcendant toutes les r√©alit√©s",
    priceType: "diamonds",
    customPrice: 7500,
    statsBonus: { attack: 500, attackSpeed: 50.0, defense: 150, health: 500, mana: 400, luck: 200, speed: 120, dodge: 100 }
  },

  // Armures Premium
  {
    id: "silver_celestial_armor",
    name: "Armure C√©leste d'Argent",
    type: "armor",
    rarity: "silver",
    level: 26,
    description: "Armure argent√©e b√©nie par les anges",
    priceType: "gold",
    customPrice: 20000,
    statsBonus: { defense: 90, health: 250, mana: 120, luck: 40, dodge: 25 }
  },
  {
    id: "golden_emperor_plate",
    name: "Armure Imp√©riale Dor√©e",
    type: "armor",
    rarity: "gold",
    level: 36,
    description: "Armure des empereurs divins",
    priceType: "diamonds",
    customPrice: 800,
    statsBonus: { defense: 150, health: 400, mana: 200, luck: 60, speed: 15 }
  },
  {
    id: "platinum_titan_armor",
    name: "Armure de Titan en Platine",
    type: "armor",
    rarity: "platinum",
    level: 46,
    description: "Armure des titans de platine",
    priceType: "diamonds",
    customPrice: 1500,
    statsBonus: { defense: 220, health: 600, mana: 250, attack: 50, luck: 80 }
  },
  {
    id: "sparkling_void_armor",
    name: "Armure du Vide √âtincelante",
    type: "armor",
    rarity: "sparkling",
    level: 56,
    description: "Armure forg√©e dans les √©toiles scintillantes",
    priceType: "diamonds",
    customPrice: 2500,
    statsBonus: { defense: 300, health: 800, mana: 350, dodge: 50, speed: 40, luck: 120 }
  },
  {
    id: "elite_cosmos_armor",
    name: "Armure Cosmique √âlite",
    type: "armor",
    rarity: "elite",
    level: 61,
    description: "Armure d'√©lite forg√©e avec la mati√®re cosmique",
    priceType: "diamonds",
    customPrice: 4000,
    statsBonus: { defense: 400, health: 1000, mana: 400, attack: 80, luck: 150, dodge: 60 }
  },
  {
    id: "supreme_universe_armor",
    name: "Armure Universelle Supr√™me",
    type: "armor",
    rarity: "supreme_sparkling",
    level: 71,
    description: "L'armure ultime contenant la puissance de l'univers",
    priceType: "diamonds",
    customPrice: 8500,
    statsBonus: { defense: 600, health: 1500, mana: 600, attack: 150, luck: 250, dodge: 120, speed: 80 }
  },

  // Anneaux Premium
  {
    id: "silver_ring_power",
    name: "Anneau de Puissance d'Argent",
    type: "ring",
    rarity: "silver",
    level: 27,
    description: "Anneau amplifiant toutes les capacit√©s",
    priceType: "gold",
    customPrice: 12000,
    statsBonus: { attack: 40, defense: 25, luck: 50, mana: 80, health: 120 }
  },
  {
    id: "golden_ring_mastery",
    name: "Anneau de Ma√Ætrise Dor√©",
    type: "ring",
    rarity: "gold",
    level: 37,
    description: "Anneau dor√© de ma√Ætrise absolue",
    priceType: "diamonds",
    customPrice: 600,
    statsBonus: { attack: 60, defense: 40, luck: 90, mana: 150, attackSpeed: 20.5, dodge: 30 }
  },
  {
    id: "platinum_ring_dominion",
    name: "Anneau de Domination en Platine",
    type: "ring",
    rarity: "platinum",
    level: 47,
    description: "Anneau de platine conf√©rant la domination",
    priceType: "diamonds",
    customPrice: 1300,
    statsBonus: { attack: 90, defense: 60, luck: 120, mana: 200, health: 250, speed: 50 }
  },
  {
    id: "sparkling_ring_infinity",
    name: "Anneau de l'Infini √âtincelant",
    type: "ring",
    rarity: "sparkling",
    level: 57,
    description: "Anneau √©tincelant aux pouvoirs infinis",
    priceType: "diamonds",
    customPrice: 2200,
    statsBonus: { attack: 120, defense: 80, luck: 180, mana: 300, health: 350, attackSpeed: 30.0, dodge: 70 }
  },
  {
    id: "elite_ring_transcendence",
    name: "Anneau de Transcendance √âlite",
    type: "ring",
    rarity: "elite",
    level: 62,
    description: "Anneau d'√©lite transcendant les limites",
    priceType: "diamonds",
    customPrice: 3800,
    statsBonus: { attack: 150, defense: 100, luck: 220, mana: 400, health: 450, speed: 80, dodge: 90 }
  },
  {
    id: "supreme_ring_omnipotence",
    name: "Anneau d'Omnipotence Supr√™me",
    type: "ring",
    rarity: "supreme_sparkling",
    level: 72,
    description: "L'anneau ultime de l'omnipotence absolue",
    priceType: "diamonds",
    customPrice: 9000,
    statsBonus: { attack: 250, defense: 200, luck: 350, mana: 600, health: 700, attackSpeed: 60.0, dodge: 150, speed: 120 }
  },

  // Amulettes Premium
  {
    id: "silver_amulet_stars",
    name: "Amulette des √âtoiles d'Argent",
    type: "amulet",
    rarity: "silver",
    level: 29,
    description: "Amulette capturant la lumi√®re des √©toiles",
    priceType: "gold",
    customPrice: 14000,
    statsBonus: { luck: 80, mana: 200, speed: 40, dodge: 35, attackSpeed: 15.2 }
  },
  {
    id: "golden_amulet_wisdom",
    name: "Amulette de Sagesse Dor√©e",
    type: "amulet",
    rarity: "gold",
    level: 39,
    description: "Amulette dor√©e de la sagesse √©ternelle",
    priceType: "diamonds",
    customPrice: 700,
    statsBonus: { luck: 120, mana: 350, speed: 60, dodge: 50, health: 200, defense: 35 }
  },
  {
    id: "platinum_amulet_destiny",
    name: "Amulette du Destin en Platine",
    type: "amulet",
    rarity: "platinum",
    level: 49,
    description: "Amulette de platine contr√¥lant le destin",
    priceType: "diamonds",
    customPrice: 1400,
    statsBonus: { luck: 180, mana: 450, speed: 80, dodge: 70, health: 300, attack: 60, defense: 50 }
  },
  {
    id: "sparkling_amulet_eternity",
    name: "Amulette de l'√âternit√© √âtincelante",
    type: "amulet",
    rarity: "sparkling",
    level: 59,
    description: "Amulette √©tincelante de l'√©ternit√©",
    priceType: "diamonds",
    customPrice: 2300,
    statsBonus: { luck: 250, mana: 600, speed: 100, dodge: 100, health: 400, attack: 80, defense: 80, attackSpeed: 40.0 }
  },
  {
    id: "elite_amulet_creation",
    name: "Amulette de Cr√©ation √âlite",
    type: "amulet",
    rarity: "elite",
    level: 63,
    description: "Amulette d'√©lite de la cr√©ation primordiale",
    priceType: "diamonds",
    customPrice: 4200,
    statsBonus: { luck: 320, mana: 750, speed: 120, dodge: 120, health: 500, attack: 120, defense: 100 }
  },
  {
    id: "supreme_amulet_reality",
    name: "Amulette de la R√©alit√© Supr√™me",
    type: "amulet",
    rarity: "supreme_sparkling",
    level: 75,
    description: "L'amulette ultime qui fa√ßonne la r√©alit√© elle-m√™me",
    priceType: "diamonds",
    customPrice: 10000,
    statsBonus: { luck: 500, mana: 1000, speed: 200, dodge: 200, health: 800, attack: 200, defense: 150, attackSpeed: 80.0 }
  }
];

// Prix de base pour chaque type et raret√©
export const getEquipmentPrice = (equipment: Equipment): number => {
  // Si l'√©quipement a un prix personnalis√©, l'utiliser
  if (equipment.customPrice && equipment.priceType) {
    return equipment.customPrice;
  }

  const basePrice = {
    weapon: 50,
    armor: 80,
    ring: 30,
    amulet: 40
  };

  const rarityMultiplier = {
    common: 1,
    uncommon: 2.5,
    rare: 6,
    epic: 15,
    legendary: 40,
    silver: 80,
    gold: 150,
    platinum: 250,
    sparkling: 400,
    elite: 600,
    supreme_sparkling: 1000
  };

  const levelMultiplier = 1 + (equipment.level - 1) * 0.3;
  
  return Math.floor(basePrice[equipment.type] * rarityMultiplier[equipment.rarity] * levelMultiplier);
};

export function generateEnemy(playerLevel: number): Enemy {
  const enemyTypes = [
    { name: "Gobelin", icon: "üëπ", multiplier: 0.8 },
    { name: "Orc", icon: "üßå", multiplier: 1.0 },
    { name: "Troll", icon: "üëπ", multiplier: 1.2 },
    { name: "Dragon", icon: "üê≤", multiplier: 1.5 },
    { name: "Liche", icon: "üíÄ", multiplier: 1.3 },
    { name: "D√©mon", icon: "üëø", multiplier: 1.4 },
    { name: "Spectre", icon: "üëª", multiplier: 1.1 },
    { name: "Golem", icon: "üóø", multiplier: 1.6 }
  ];

  const randomType = enemyTypes[Math.floor(Math.random() * enemyTypes.length)];
  const enemyLevel = Math.max(1, playerLevel + Math.floor(Math.random() * 3) - 1);
  const baseMultiplier = randomType.multiplier * (0.5 + Math.random() * 0.3); // R√©duit de 0.8-1.2 √† 0.5-0.8

  return {
    id: `enemy_${Date.now()}_${Math.random()}`,
    name: `${randomType.name} Niveau ${enemyLevel}`,
    level: enemyLevel,
    icon: randomType.icon,
    stats: {
      attack: Math.floor(10 * enemyLevel * baseMultiplier), // R√©duit de 15 √† 10
      attackSpeed: Math.floor(35 * baseMultiplier), // R√©duit de 40 √† 35
      defense: Math.floor(6 * enemyLevel * baseMultiplier), // R√©duit de 10 √† 6
      dodge: Math.floor(15 * baseMultiplier), // R√©duit de 20 √† 15
      luck: Math.floor(20 * baseMultiplier), // R√©duit de 25 √† 20
      speed: Math.floor(25 * baseMultiplier), // R√©duit de 30 √† 25
      health: Math.floor(60 * enemyLevel * baseMultiplier), // R√©duit de 80 √† 60
      mana: Math.floor(40 * enemyLevel * baseMultiplier) // R√©duit de 50 √† 40
    },
    rewards: {
      experience: Math.floor(50 * enemyLevel * baseMultiplier), // Gard√© identique pour progression
      gold: Math.floor(25 * enemyLevel * baseMultiplier), // Gard√© identique pour r√©compenses
      dropChance: Math.random() < 0.3 ? generateRandomEquipment(enemyLevel) : null
    }
  };
}

function generateRandomEquipment(level: number): Equipment {
  const types: Equipment['type'][] = ['weapon', 'armor', 'ring', 'amulet'];
  const rarities: Equipment['rarity'][] = ['common', 'uncommon', 'rare', 'epic', 'legendary', 'silver', 'gold', 'platinum', 'sparkling', 'elite', 'supreme_sparkling'];
  
  const type = types[Math.floor(Math.random() * types.length)];
  const rarity = rarities[Math.floor(Math.random() * Math.min(rarities.length, Math.floor(level / 8) + 2))];
  
  const rarityMultipliers = {
    common: 1,
    uncommon: 1.5,
    rare: 2,
    epic: 3,
    legendary: 5,
    silver: 8,
    gold: 12,
    platinum: 18,
    sparkling: 25,
    elite: 35,
    supreme_sparkling: 50
  };

  const multiplier = rarityMultipliers[rarity];
  const baseStat = Math.floor(5 * level * multiplier);

  return {
    id: `generated_${Date.now()}_${Math.random()}`,
    name: `${rarity.charAt(0).toUpperCase() + rarity.slice(1)} ${type}`,
    type,
    rarity,
    level,
    description: `${rarity} ${type} de niveau ${level}`,
    statsBonus: {
      attack: type === 'weapon' ? baseStat : Math.floor(baseStat * 0.3),
      defense: type === 'armor' ? baseStat : Math.floor(baseStat * 0.2),
      health: type === 'armor' ? baseStat * 2 : 0,
      luck: type === 'amulet' || type === 'ring' ? baseStat : 0,
      dodge: type === 'ring' ? Math.floor(baseStat * 0.5) : 0
    }
  };
}